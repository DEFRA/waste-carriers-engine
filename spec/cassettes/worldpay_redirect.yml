---
http_interactions:
- request:
    method: get
    uri: https://secure-test.worldpay.com/jsp/merchant/xml/paymentService.jsp
    body:
      encoding: UTF-8
      string: |
        <?xml version="1.0"?>
        <!DOCTYPE paymentService PUBLIC "-//WorldPay/DTD WorldPay PaymentService v1/EN" "http://dtd.worldpay.com/paymentService_v1.dtd">
        <paymentService version="1.4" merchantCode="MERCHANT_CODE">
          <submit>
            <order orderCode="1581334122">
              <description>Your Waste Carrier Registration CBDU1</description>
              <amount currencyCode="GBP" value="11000" exponent="2"/>
              <orderContent>Waste Carrier Registration renewal: CBDU1 for Acme Waste</orderContent>
              <paymentMethodMask>
                <include code="VISA-SSL"/>
                <include code="MAESTRO-SSL"/>
                <include code="ECMC-SSL"/>
              </paymentMethodMask>
              <shopper>
                <shopperEmailAddress>user1@example.com</shopperEmailAddress>
              </shopper>
              <billingAddress>
                <address>
                  <firstName>Jane</firstName>
                  <lastName>Doe</lastName>
                  <address1>42 Foo Gardens</address1>
                  <address2/>
                  <postalCode>FA1 1KE</postalCode>
                  <city>Baz City</city>
                  <countryCode>GB</countryCode>
                </address>
              </billingAddress>
            </order>
          </submit>
        </paymentService>
    headers:
      Accept:
      - "*/*"
      User-Agent:
      - rest-client/2.1.0 (linux-gnu x86_64) ruby/2.4.2p198
      Authorization:
      - Basic <API_KEY>
      Content-Length:
      - '1128'
      Accept-Encoding:
      - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
      Host:
      - secure-test.worldpay.com
  response:
    status:
      code: 200
      message: OK
    headers:
      Date:
      - Mon, 10 Feb 2020 11:29:57 GMT
      Server:
      - Apache
      Content-Length:
      - '536'
      P3p:
      - CP="NON"
      Set-Cookie:
      - machine=0aa20016;path=/
      Content-Type:
      - text/plain
      X-Xss-Protection:
      - '1'
      X-Content-Type-Options:
      - nosniff
      Strict-Transport-Security:
      - max-age=86400; preload
      X-Cnection:
      - close
    body:
      encoding: UTF-8
      string: |
        <?xml version="1.0" encoding="UTF-8"?>
        <!DOCTYPE paymentService PUBLIC "-//WorldPay//DTD WorldPay PaymentService v1//EN"
                                        "http://dtd.worldpay.com/paymentService_v1.dtd">
        <paymentService version="1.4" merchantCode="MERCHANT_CODE"><reply><orderStatus orderCode="1581334122"><reference id="3170632814">https://payments-test.worldpay.com/app/hpp/integration/wpg/corporate?OrderKey=MERCHANT_CODE%5E1581334122&amp;Ticket=00158176619776602LqIFF5031SqOUIWDA-5RpQ</reference></orderStatus></reply></paymentService>
    http_version:
  recorded_at: Mon, 10 Feb 2020 11:28:43 GMT
recorded_with: VCR 4.0.0
