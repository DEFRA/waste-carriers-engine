<%= render("waste_carriers_engine/shared/back", back_path: back_registration_number_forms_path(@registration_number_form.reg_identifier)) %>

<div class="text">
  <%= form_for(@registration_number_form) do |f| %>
    <%= render("waste_carriers_engine/shared/errors", object: @registration_number_form) %>

    <h1 class="heading-large"><%= t(".heading.#{@registration_number_form.business_type}") %></h1>

    <div class="form-group <%= "form-group-error" if @registration_number_form.errors[:company_no].any? %>">
      <fieldset id="company_no">
        <legend class="visuallyhidden">
          <%= t(".heading.#{@registration_number_form.business_type}") %>
        </legend>

        <% if @registration_number_form.errors[:company_no].any? %>
          <span class="error-message"><%= @registration_number_form.errors[:company_no].join(", ") %></span>
        <% end %>

        <%= f.label :company_no, class: "form-label" do %>
          <%= t(".company_no_label") %>
          <span class='form-hint'><%= t(".company_no_hint") %></span>
        <% end %>

        <%= f.text_field :company_no, value: @registration_number_form.company_no, class: "form-control" %>
      </fieldset>
    </div>

    <div class="form-group">
      <details>
        <summary>
          <span class="summary"><%= t(".detail_subheading") %></span>
        </summary>

        <div class="panel panel-border-narrow">
          <p><%= t(".detail.#{@registration_number_form.business_type}") %></p>
        </div>
      </details>
    </div>

    <p><%= t(".explanation.#{@registration_number_form.business_type}") %></p>

    <%= f.hidden_field :reg_identifier, value: @registration_number_form.reg_identifier %>
    <div class="form-group">
      <%= f.submit t(".next_button"), class: "button" %>
    </div>
  <% end %>
</div>
